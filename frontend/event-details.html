<!DOCTYPE html>
<html ng-app="eventApp">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Event Details - Event Manager</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-route.min.js"></script>
  <script src="js/app.js"></script>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/event-details.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body ng-controller="EventDetailsController">
  <header class="event-header">
    <div class="logo">EventMaster</div>
    <nav>
      <a href="dashboard.html">Dashboard</a>
      <a ng-href="invite.html#/invite/{{event._id}}">Invite People</a>
    </nav>
  </header>

  <main class="event-main">
    <section class="event-details-section">
      <div ng-if="event">
        <!-- Event Title -->
        <div class="event-title-section">
          <h1 class="event-title">{{event.title}}</h1>
          <p class="event-description">{{event.description}}</p>
        </div>

        <!-- Neon Grid for Event Details -->
        <div class="neon-grid">
          <div class="neon-box">
            <h2>Date</h2>
            <p>{{event.date | date:'MMM d, yyyy'}}</p>
          </div>
          <div class="neon-box">
            <h2>Time</h2>
            <p>{{event.date | date:'h:mm a'}}</p>
          </div>
          <div class="neon-box">
            <h2>Location</h2>
            <p>{{event.location}}</p>
          </div>
          <div class="neon-box">
            <h2>Type</h2>
            <p>{{event.type}}</p>
          </div>
        </div>

        <!-- Attendees Section -->
        <section class="attendees-section">
          <h2>Attendees</h2>
          <ul class="attendees-list">
            <li ng-repeat="attendee in event.attendees">{{attendee}}</li>
          </ul>
        </section>

        <!-- Join Event Section -->
        <div class="join-event-section">
          <button ng-if="!alreadyJoined" ng-click="joinEvent()" class="btn-join-event">Join Event</button>
          <p ng-if="alreadyJoined" class="already-joined-message">You have already joined this event.</p>
        </div>

        <!-- Messages -->
        <div class="message-box">
          <p style="color: green;" ng-if="message">{{message}}</p>
          <p style="color: red;" ng-if="error">{{error}}</p>
        </div>

        <!-- Navigation Links -->
        <div class="navigation-links">
          <a href="dashboard.html" class="btn-back-dashboard">Back to Dashboard</a>
        </div>
      </div>

      <!-- Loading Message -->
      <div ng-if="!event" class="loading-message">
        <p>Loading event details...</p>
      </div>
    </section>
  </main>

  <footer class="event-footer">
    Event Manager &copy; {{currentYear}} | All Rights Reserved
  </footer>
</body>
</html>
